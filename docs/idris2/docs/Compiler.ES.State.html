<!DOCTYPE html><html lang="en">
<head>
  <meta charset="utf-8">
  <title>Compiler.ES.State</title>
  <link rel="stylesheet" type="text/css" id="preferredStyle" href="../default.css">
  <script>
    /* Updates the stylesheet to use the preferred one.
       Note that we set the link to root ++ sourceLoc because the config
       is shared across the whole website, so the root may differ from
       page to page.
    */
    function setStyleSource (sourceLoc) {
      document.getElementById("preferredStyle").href = "../" + sourceLoc + ".css";
      document.getElementById("selectPreferredStyle").value = sourceLoc;
    }
    /* Initialises the preferred style sheet:
       1. if there is a stored value then use that
          otherwise select the default
       2. set both the css link href & the drop down menu selected option
    */
    function initStyleSource () {
      var preferredStyle = localStorage.getItem("stylefile");
      if (preferredStyle !== null) {
        setStyleSource(preferredStyle);
      } else {
        setStyleSource("default");
      };
    }
    function saveStyleSource (preferredStyle) {
      localStorage.stylefile = preferredStyle;
    }
    </script>
</head>
<body class="namespace">
<header>
  <strong>Idris2Doc</strong> : Compiler.ES.State
  <nav><a href="../index.html">Index</a>
  <select id="selectPreferredStyle">
    <option value="default">Default</option>
<option value="alternative">Alternative</option>
<option value="blackandwhite">Black & White</option>

  </select>
  </nav>
  <script>
  /* We start by initialising the style source */
  initStyleSource();
  /* This listens for changes on the drop down menu and updates the
     css used for the current page when a selection is made.
  */
  document.getElementById("selectPreferredStyle").addEventListener("change", function(){
    var selected = this.options[this.selectedIndex].value; /* the option chosen */
    setStyleSource (selected);
    saveStyleSource (selected);
  });
</script>
</header>
<div class="container"><div id="module-header"><h1>Compiler.ES.State</h1><span style="float:right">(<a href="Compiler.ES.State.src.html">source</a>)</span><pre>State used during JS code generation and when
converting `NamedCExp` to imperative statements.
</pre></div><code></code><h2>Definitions</h2><dl class="decls"><dt id="Compiler.ES.State.error"><code><a class="type" href="Compiler.ES.State.html#Compiler.ES.State.error"><span class="name function">error</span></a>&ensp;:&ensp;<span class="name type">String</span>&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="Core.Core.html#Core.Core.Core"><span class="name type">Core</span></a>&ensp;<span class="boundvar">a</span></code></dt><dd><pre>  Convenient&ensp;alias&ensp;for&ensp;`throw&ensp;.&ensp;InternalError`</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">export</span></dd><dt id="Compiler.ES.State.errorConcat"><code><a class="type" href="Compiler.ES.State.html#Compiler.ES.State.errorConcat"><span class="name function">errorConcat</span></a>&ensp;:&ensp;<span class="type resolved" title="Prelude.Basics.List"><span class="name type">List</span></span>&ensp;<span class="name type">String</span>&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="Core.Core.html#Core.Core.Core"><span class="name type">Core</span></a>&ensp;<span class="boundvar">a</span></code></dt><dd><pre>  Convenient&ensp;alias&ensp;for&ensp;`error&ensp;.&ensp;fastConcat`.</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">export</span></dd><dt id="Compiler.ES.State.CGMode"><code><span class="keyword">data</span>&ensp;<a class="type" href="Compiler.ES.State.html#Compiler.ES.State.CGMode"><span class="name type">CGMode</span></a>&ensp;:&ensp;<span class="name type">Type</span></code></dt><dd><pre>  Specifies&ensp;the&ensp;readability&ensp;of&ensp;the&ensp;generated&ensp;code.<br>  <br>  In&ensp;`Pretty`&ensp;mode&ensp;(the&ensp;default),&ensp;the&ensp;codegen&ensp;will<br>  lift&ensp;multiline&ensp;lambdas&ensp;from&ensp;argument&ensp;lists&ensp;to&ensp;the<br>  surrounding&ensp;scope&ensp;and&ensp;keep&ensp;user&ensp;generated&ensp;names.<br>  In&ensp;addition,&ensp;blocks&ensp;of&ensp;code&ensp;are&ensp;laid&ensp;out&ensp;with&ensp;indentation<br>  and&ensp;linebreaks&ensp;for&ensp;better&ensp;readability.<br>  <br>  In&ensp;`Compact`&ensp;mode,&ensp;all&ensp;local&ensp;variables&ensp;are&ensp;replace&ensp;with<br>  short&ensp;machine&ensp;generated&ensp;ones,&ensp;and&ensp;every&ensp;toplevel<br>  function&ensp;is&ensp;printed&ensp;on&ensp;a&ensp;single&ensp;line&ensp;without<br>  line-breaks&ensp;or&ensp;indentation.<br>  <br>  Finally,&ensp;`Minimal`&ensp;mode&ensp;is&ensp;like&ensp;`Compact`,&ensp;but&ensp;toplevel<br>  function&ensp;names&ensp;will&ensp;be&ensp;mangled&ensp;and&ensp;replaced&ensp;with<br>  machine&ensp;generated&ensp;indices.</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">public&ensp;export</span><br>  <b>Constructors</b>:<br><dl class="decls">  <dt id="Compiler.ES.State.Pretty"><code><a class="type" href="Compiler.ES.State.html#Compiler.ES.State.Pretty"><span class="name constructor">Pretty</span></a>&ensp;:&ensp;<a class="type" href="Compiler.ES.State.html#Compiler.ES.State.CGMode"><span class="name type">CGMode</span></a></code></dt>  <dt id="Compiler.ES.State.Compact"><code><a class="type" href="Compiler.ES.State.html#Compiler.ES.State.Compact"><span class="name constructor">Compact</span></a>&ensp;:&ensp;<a class="type" href="Compiler.ES.State.html#Compiler.ES.State.CGMode"><span class="name type">CGMode</span></a></code></dt>  <dt id="Compiler.ES.State.Minimal"><code><a class="type" href="Compiler.ES.State.html#Compiler.ES.State.Minimal"><span class="name constructor">Minimal</span></a>&ensp;:&ensp;<a class="type" href="Compiler.ES.State.html#Compiler.ES.State.CGMode"><span class="name type">CGMode</span></a></code></dt></dl></dd><dt id="Compiler.ES.State.keepLocalName"><code><a class="type" href="Compiler.ES.State.html#Compiler.ES.State.keepLocalName"><span class="name function">keepLocalName</span></a>&ensp;:&ensp;<a class="type" href="Core.Name.html#Core.Name.Name"><span class="name type">Name</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="Compiler.ES.State.html#Compiler.ES.State.CGMode"><span class="name type">CGMode</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="Prelude.Basics.Bool"><span class="name type">Bool</span></span></code></dt><dd><pre>  We&ensp;only&ensp;keep&ensp;user&ensp;defined&ensp;local&ensp;names&ensp;and&ensp;only&ensp;so<br>  in&ensp;`Pretty`&ensp;mode.</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">export</span></dd><dt id="Compiler.ES.State.keepRefName"><code><a class="type" href="Compiler.ES.State.html#Compiler.ES.State.keepRefName"><span class="name function">keepRefName</span></a>&ensp;:&ensp;<a class="type" href="Core.Name.html#Core.Name.Name"><span class="name type">Name</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="Compiler.ES.State.html#Compiler.ES.State.CGMode"><span class="name type">CGMode</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="Prelude.Basics.Bool"><span class="name type">Bool</span></span></code></dt><dd><pre>  We&ensp;mangle&ensp;toplevel&ensp;function&ensp;names&ensp;only&ensp;in&ensp;`Minimal`&ensp;mode.</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">export</span></dd><dt id="Compiler.ES.State.ESs"><code><span class="keyword">data</span>&ensp;<a class="type" href="Compiler.ES.State.html#Compiler.ES.State.ESs"><span class="name type">ESs</span></a>&ensp;:&ensp;<span class="name type">Type</span></code></dt><dd>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">public&ensp;export</span></dd><dt id="Compiler.ES.State.ESSt"><code><span class="keyword">record</span>&ensp;<a class="type" href="Compiler.ES.State.html#Compiler.ES.State.ESSt"><span class="name type">ESSt</span></a>&ensp;:&ensp;<span class="name type">Type</span></code></dt><dd><pre>  Settings&ensp;and&ensp;state&ensp;used&ensp;during&ensp;JS&ensp;code&ensp;generation.</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">public&ensp;export</span><br>  <b>Constructor</b>:&ensp;<dl class="decls"><dt id="Compiler.ES.State.MkESSt"><code><a class="type" href="Compiler.ES.State.html#Compiler.ES.State.MkESSt"><span class="name constructor">MkESSt</span></a>&ensp;:&ensp;<a class="type" href="Compiler.ES.State.html#Compiler.ES.State.CGMode"><span class="name type">CGMode</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;(<a class="type" href="Compiler.ES.Ast.html#Compiler.ES.Ast.Exp"><span class="name type">Exp</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="Prelude.Basics.Bool"><span class="name type">Bool</span></span>)&ensp;<span class="keyword">-&gt;</span>&ensp;(<a class="type" href="Compiler.ES.Ast.html#Compiler.ES.Ast.Exp"><span class="name type">Exp</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="Prelude.Basics.Bool"><span class="name type">Bool</span></span>)&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="name type">Int</span>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="name type">Int</span>&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="Libraries.Data.SortedMap.html#Libraries.Data.SortedMap.SortedMap"><span class="name type">SortedMap</span></a>&ensp;<a class="type" href="Core.Name.html#Core.Name.Name"><span class="name type">Name</span></a>&ensp;<a class="type" href="Compiler.ES.Ast.html#Compiler.ES.Ast.Minimal"><span class="name type">Minimal</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="Libraries.Data.SortedMap.html#Libraries.Data.SortedMap.SortedMap"><span class="name type">SortedMap</span></a>&ensp;<a class="type" href="Core.Name.html#Core.Name.Name"><span class="name type">Name</span></a>&ensp;<a class="type" href="Compiler.ES.Ast.html#Compiler.ES.Ast.Var"><span class="name type">Var</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="Libraries.Data.SortedMap.html#Libraries.Data.SortedMap.SortedMap"><span class="name type">SortedMap</span></a>&ensp;<span class="name type">String</span>&ensp;<span class="name type">String</span>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="Prelude.Basics.List"><span class="name type">List</span></span>&ensp;<span class="name type">String</span>&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="Compiler.NoMangle.html#Compiler.NoMangle.NoMangleMap"><span class="name type">NoMangleMap</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="Compiler.ES.State.html#Compiler.ES.State.ESSt"><span class="name type">ESSt</span></a></code></dt></dl><br>  <b>Projections</b>:<br><dl class="decls">  <dt id="Compiler.ES.State.ESSt.(.ccTypes)"><code><span class="type resolved" title="Compiler.ES.State.ESSt.(.ccTypes)"><span class="name function">.ccTypes</span></span>&ensp;:&ensp;<a class="type" href="Compiler.ES.State.html#Compiler.ES.State.ESSt"><span class="name type">ESSt</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="Prelude.Basics.List"><span class="name type">List</span></span>&ensp;<span class="name type">String</span></code></dt><dd><pre>  Accepted&ensp;codegen&ensp;types&ensp;in&ensp;foreign&ensp;function&ensp;definitions.<br>  For&ensp;JS,&ensp;this&ensp;is&ensp;either&ensp;`[&quot;node&quot;,&quot;javascript&quot;]`&ensp;or<br>  `[&quot;browser&quot;,&quot;javascript&quot;]`.</pre></dd>  <dt id="Compiler.ES.State.ESSt.(.isArg)"><code><span class="type resolved" title="Compiler.ES.State.ESSt.(.isArg)"><span class="name function">.isArg</span></span>&ensp;:&ensp;<a class="type" href="Compiler.ES.State.html#Compiler.ES.State.ESSt"><span class="name type">ESSt</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="Compiler.ES.Ast.html#Compiler.ES.Ast.Exp"><span class="name type">Exp</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="Prelude.Basics.Bool"><span class="name type">Bool</span></span></code></dt><dd><pre>  Returns&ensp;`True`,&ensp;if&ensp;the&ensp;given&ensp;expression&ensp;can&ensp;be&ensp;used&ensp;as&ensp;an<br>  argument&ensp;in&ensp;a&ensp;function&ensp;call.&ensp;(If&ensp;this&ensp;returns&ensp;`False`,&ensp;the<br>  given&ensp;expression&ensp;will&ensp;be&ensp;lifted&ensp;to&ensp;the&ensp;surrounding&ensp;scope<br>  and&ensp;bound&ensp;to&ensp;a&ensp;new&ensp;local&ensp;variable).</pre></dd>  <dt id="Compiler.ES.State.ESSt.(.isFun)"><code><span class="type resolved" title="Compiler.ES.State.ESSt.(.isFun)"><span class="name function">.isFun</span></span>&ensp;:&ensp;<a class="type" href="Compiler.ES.State.html#Compiler.ES.State.ESSt"><span class="name type">ESSt</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="Compiler.ES.Ast.html#Compiler.ES.Ast.Exp"><span class="name type">Exp</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="Prelude.Basics.Bool"><span class="name type">Bool</span></span></code></dt><dd><pre>  Returns&ensp;`True`,&ensp;if&ensp;the&ensp;given&ensp;expression&ensp;can&ensp;be&ensp;used&ensp;directly<br>  in&ensp;a&ensp;function&ensp;application.&ensp;(If&ensp;this&ensp;returns&ensp;`False`,&ensp;the<br>  given&ensp;expression&ensp;will&ensp;be&ensp;lifted&ensp;to&ensp;the&ensp;surrounding&ensp;scope<br>  and&ensp;bound&ensp;to&ensp;a&ensp;variable).</pre></dd>  <dt id="Compiler.ES.State.ESSt.(.loc)"><code><span class="type resolved" title="Compiler.ES.State.ESSt.(.loc)"><span class="name function">.loc</span></span>&ensp;:&ensp;<a class="type" href="Compiler.ES.State.html#Compiler.ES.State.ESSt"><span class="name type">ESSt</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="name type">Int</span></code></dt><dd><pre>  Current&ensp;local&ensp;variable&ensp;index</pre></dd>  <dt id="Compiler.ES.State.ESSt.(.locals)"><code><span class="type resolved" title="Compiler.ES.State.ESSt.(.locals)"><span class="name function">.locals</span></span>&ensp;:&ensp;<a class="type" href="Compiler.ES.State.html#Compiler.ES.State.ESSt"><span class="name type">ESSt</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="Libraries.Data.SortedMap.html#Libraries.Data.SortedMap.SortedMap"><span class="name type">SortedMap</span></a>&ensp;<a class="type" href="Core.Name.html#Core.Name.Name"><span class="name type">Name</span></a>&ensp;<a class="type" href="Compiler.ES.Ast.html#Compiler.ES.Ast.Minimal"><span class="name type">Minimal</span></a></code></dt><dd><pre>  Mapping&ensp;from&ensp;local&ensp;names&ensp;to&ensp;minimal&ensp;expressions</pre></dd>  <dt id="Compiler.ES.State.ESSt.(.mode)"><code><span class="type resolved" title="Compiler.ES.State.ESSt.(.mode)"><span class="name function">.mode</span></span>&ensp;:&ensp;<a class="type" href="Compiler.ES.State.html#Compiler.ES.State.ESSt"><span class="name type">ESSt</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="Compiler.ES.State.html#Compiler.ES.State.CGMode"><span class="name type">CGMode</span></a></code></dt><dd><pre>  Whether&ensp;to&ensp;always&ensp;use&ensp;minimal&ensp;names</pre></dd>  <dt id="Compiler.ES.State.ESSt.(.noMangleMap)"><code><span class="type resolved" title="Compiler.ES.State.ESSt.(.noMangleMap)"><span class="name function">.noMangleMap</span></span>&ensp;:&ensp;<a class="type" href="Compiler.ES.State.html#Compiler.ES.State.ESSt"><span class="name type">ESSt</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="Compiler.NoMangle.html#Compiler.NoMangle.NoMangleMap"><span class="name type">NoMangleMap</span></a></code></dt><dd><pre>  %nomangle&ensp;names</pre></dd>  <dt id="Compiler.ES.State.ESSt.(.preamble)"><code><span class="type resolved" title="Compiler.ES.State.ESSt.(.preamble)"><span class="name function">.preamble</span></span>&ensp;:&ensp;<a class="type" href="Compiler.ES.State.html#Compiler.ES.State.ESSt"><span class="name type">ESSt</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="Libraries.Data.SortedMap.html#Libraries.Data.SortedMap.SortedMap"><span class="name type">SortedMap</span></a>&ensp;<span class="name type">String</span>&ensp;<span class="name type">String</span></code></dt><dd><pre>  Mappings&ensp;from&ensp;name&ensp;to&ensp;definitions&ensp;to&ensp;be&ensp;added<br>  to&ensp;the&ensp;preamble.</pre></dd>  <dt id="Compiler.ES.State.ESSt.(.ref)"><code><span class="type resolved" title="Compiler.ES.State.ESSt.(.ref)"><span class="name function">.ref</span></span>&ensp;:&ensp;<a class="type" href="Compiler.ES.State.html#Compiler.ES.State.ESSt"><span class="name type">ESSt</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="name type">Int</span></code></dt><dd><pre>  Current&ensp;global&ensp;variable&ensp;index</pre></dd>  <dt id="Compiler.ES.State.ESSt.(.refs)"><code><span class="type resolved" title="Compiler.ES.State.ESSt.(.refs)"><span class="name function">.refs</span></span>&ensp;:&ensp;<a class="type" href="Compiler.ES.State.html#Compiler.ES.State.ESSt"><span class="name type">ESSt</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="Libraries.Data.SortedMap.html#Libraries.Data.SortedMap.SortedMap"><span class="name type">SortedMap</span></a>&ensp;<a class="type" href="Core.Name.html#Core.Name.Name"><span class="name type">Name</span></a>&ensp;<a class="type" href="Compiler.ES.Ast.html#Compiler.ES.Ast.Var"><span class="name type">Var</span></a></code></dt><dd><pre>  Mapping&ensp;from&ensp;toplevel&ensp;function&ensp;names&ensp;to&ensp;variables</pre></dd></dl></dd><dt id="Compiler.ES.State.ESSt.(.mode)"><code><span class="type resolved" title="Compiler.ES.State.ESSt.(.mode)"><span class="name function">.mode</span></span>&ensp;:&ensp;<a class="type" href="Compiler.ES.State.html#Compiler.ES.State.ESSt"><span class="name type">ESSt</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="Compiler.ES.State.html#Compiler.ES.State.CGMode"><span class="name type">CGMode</span></a></code></dt><dd><pre>  Whether&ensp;to&ensp;always&ensp;use&ensp;minimal&ensp;names</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">public&ensp;export</span></dd><dt id="Compiler.ES.State.ESSt.mode"><code><span class="type resolved" title="Compiler.ES.State.ESSt.mode"><span class="name function">mode</span></span>&ensp;:&ensp;<a class="type" href="Compiler.ES.State.html#Compiler.ES.State.ESSt"><span class="name type">ESSt</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="Compiler.ES.State.html#Compiler.ES.State.CGMode"><span class="name type">CGMode</span></a></code></dt><dd><pre>  Whether&ensp;to&ensp;always&ensp;use&ensp;minimal&ensp;names</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">public&ensp;export</span></dd><dt id="Compiler.ES.State.ESSt.(.isArg)"><code><span class="type resolved" title="Compiler.ES.State.ESSt.(.isArg)"><span class="name function">.isArg</span></span>&ensp;:&ensp;<a class="type" href="Compiler.ES.State.html#Compiler.ES.State.ESSt"><span class="name type">ESSt</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="Compiler.ES.Ast.html#Compiler.ES.Ast.Exp"><span class="name type">Exp</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="Prelude.Basics.Bool"><span class="name type">Bool</span></span></code></dt><dd><pre>  Returns&ensp;`True`,&ensp;if&ensp;the&ensp;given&ensp;expression&ensp;can&ensp;be&ensp;used&ensp;as&ensp;an<br>  argument&ensp;in&ensp;a&ensp;function&ensp;call.&ensp;(If&ensp;this&ensp;returns&ensp;`False`,&ensp;the<br>  given&ensp;expression&ensp;will&ensp;be&ensp;lifted&ensp;to&ensp;the&ensp;surrounding&ensp;scope<br>  and&ensp;bound&ensp;to&ensp;a&ensp;new&ensp;local&ensp;variable).</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">public&ensp;export</span></dd><dt id="Compiler.ES.State.ESSt.isArg"><code><span class="type resolved" title="Compiler.ES.State.ESSt.isArg"><span class="name function">isArg</span></span>&ensp;:&ensp;<a class="type" href="Compiler.ES.State.html#Compiler.ES.State.ESSt"><span class="name type">ESSt</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="Compiler.ES.Ast.html#Compiler.ES.Ast.Exp"><span class="name type">Exp</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="Prelude.Basics.Bool"><span class="name type">Bool</span></span></code></dt><dd><pre>  Returns&ensp;`True`,&ensp;if&ensp;the&ensp;given&ensp;expression&ensp;can&ensp;be&ensp;used&ensp;as&ensp;an<br>  argument&ensp;in&ensp;a&ensp;function&ensp;call.&ensp;(If&ensp;this&ensp;returns&ensp;`False`,&ensp;the<br>  given&ensp;expression&ensp;will&ensp;be&ensp;lifted&ensp;to&ensp;the&ensp;surrounding&ensp;scope<br>  and&ensp;bound&ensp;to&ensp;a&ensp;new&ensp;local&ensp;variable).</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">public&ensp;export</span></dd><dt id="Compiler.ES.State.ESSt.(.isFun)"><code><span class="type resolved" title="Compiler.ES.State.ESSt.(.isFun)"><span class="name function">.isFun</span></span>&ensp;:&ensp;<a class="type" href="Compiler.ES.State.html#Compiler.ES.State.ESSt"><span class="name type">ESSt</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="Compiler.ES.Ast.html#Compiler.ES.Ast.Exp"><span class="name type">Exp</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="Prelude.Basics.Bool"><span class="name type">Bool</span></span></code></dt><dd><pre>  Returns&ensp;`True`,&ensp;if&ensp;the&ensp;given&ensp;expression&ensp;can&ensp;be&ensp;used&ensp;directly<br>  in&ensp;a&ensp;function&ensp;application.&ensp;(If&ensp;this&ensp;returns&ensp;`False`,&ensp;the<br>  given&ensp;expression&ensp;will&ensp;be&ensp;lifted&ensp;to&ensp;the&ensp;surrounding&ensp;scope<br>  and&ensp;bound&ensp;to&ensp;a&ensp;variable).</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">public&ensp;export</span></dd><dt id="Compiler.ES.State.ESSt.isFun"><code><span class="type resolved" title="Compiler.ES.State.ESSt.isFun"><span class="name function">isFun</span></span>&ensp;:&ensp;<a class="type" href="Compiler.ES.State.html#Compiler.ES.State.ESSt"><span class="name type">ESSt</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="Compiler.ES.Ast.html#Compiler.ES.Ast.Exp"><span class="name type">Exp</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="Prelude.Basics.Bool"><span class="name type">Bool</span></span></code></dt><dd><pre>  Returns&ensp;`True`,&ensp;if&ensp;the&ensp;given&ensp;expression&ensp;can&ensp;be&ensp;used&ensp;directly<br>  in&ensp;a&ensp;function&ensp;application.&ensp;(If&ensp;this&ensp;returns&ensp;`False`,&ensp;the<br>  given&ensp;expression&ensp;will&ensp;be&ensp;lifted&ensp;to&ensp;the&ensp;surrounding&ensp;scope<br>  and&ensp;bound&ensp;to&ensp;a&ensp;variable).</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">public&ensp;export</span></dd><dt id="Compiler.ES.State.ESSt.(.loc)"><code><span class="type resolved" title="Compiler.ES.State.ESSt.(.loc)"><span class="name function">.loc</span></span>&ensp;:&ensp;<a class="type" href="Compiler.ES.State.html#Compiler.ES.State.ESSt"><span class="name type">ESSt</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="name type">Int</span></code></dt><dd><pre>  Current&ensp;local&ensp;variable&ensp;index</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">public&ensp;export</span></dd><dt id="Compiler.ES.State.ESSt.loc"><code><span class="type resolved" title="Compiler.ES.State.ESSt.loc"><span class="name function">loc</span></span>&ensp;:&ensp;<a class="type" href="Compiler.ES.State.html#Compiler.ES.State.ESSt"><span class="name type">ESSt</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="name type">Int</span></code></dt><dd><pre>  Current&ensp;local&ensp;variable&ensp;index</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">public&ensp;export</span></dd><dt id="Compiler.ES.State.ESSt.(.ref)"><code><span class="type resolved" title="Compiler.ES.State.ESSt.(.ref)"><span class="name function">.ref</span></span>&ensp;:&ensp;<a class="type" href="Compiler.ES.State.html#Compiler.ES.State.ESSt"><span class="name type">ESSt</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="name type">Int</span></code></dt><dd><pre>  Current&ensp;global&ensp;variable&ensp;index</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">public&ensp;export</span></dd><dt id="Compiler.ES.State.ESSt.ref"><code><span class="type resolved" title="Compiler.ES.State.ESSt.ref"><span class="name function">ref</span></span>&ensp;:&ensp;<a class="type" href="Compiler.ES.State.html#Compiler.ES.State.ESSt"><span class="name type">ESSt</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="name type">Int</span></code></dt><dd><pre>  Current&ensp;global&ensp;variable&ensp;index</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">public&ensp;export</span></dd><dt id="Compiler.ES.State.ESSt.(.locals)"><code><span class="type resolved" title="Compiler.ES.State.ESSt.(.locals)"><span class="name function">.locals</span></span>&ensp;:&ensp;<a class="type" href="Compiler.ES.State.html#Compiler.ES.State.ESSt"><span class="name type">ESSt</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="Libraries.Data.SortedMap.html#Libraries.Data.SortedMap.SortedMap"><span class="name type">SortedMap</span></a>&ensp;<a class="type" href="Core.Name.html#Core.Name.Name"><span class="name type">Name</span></a>&ensp;<a class="type" href="Compiler.ES.Ast.html#Compiler.ES.Ast.Minimal"><span class="name type">Minimal</span></a></code></dt><dd><pre>  Mapping&ensp;from&ensp;local&ensp;names&ensp;to&ensp;minimal&ensp;expressions</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">public&ensp;export</span></dd><dt id="Compiler.ES.State.ESSt.locals"><code><span class="type resolved" title="Compiler.ES.State.ESSt.locals"><span class="name function">locals</span></span>&ensp;:&ensp;<a class="type" href="Compiler.ES.State.html#Compiler.ES.State.ESSt"><span class="name type">ESSt</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="Libraries.Data.SortedMap.html#Libraries.Data.SortedMap.SortedMap"><span class="name type">SortedMap</span></a>&ensp;<a class="type" href="Core.Name.html#Core.Name.Name"><span class="name type">Name</span></a>&ensp;<a class="type" href="Compiler.ES.Ast.html#Compiler.ES.Ast.Minimal"><span class="name type">Minimal</span></a></code></dt><dd><pre>  Mapping&ensp;from&ensp;local&ensp;names&ensp;to&ensp;minimal&ensp;expressions</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">public&ensp;export</span></dd><dt id="Compiler.ES.State.ESSt.(.refs)"><code><span class="type resolved" title="Compiler.ES.State.ESSt.(.refs)"><span class="name function">.refs</span></span>&ensp;:&ensp;<a class="type" href="Compiler.ES.State.html#Compiler.ES.State.ESSt"><span class="name type">ESSt</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="Libraries.Data.SortedMap.html#Libraries.Data.SortedMap.SortedMap"><span class="name type">SortedMap</span></a>&ensp;<a class="type" href="Core.Name.html#Core.Name.Name"><span class="name type">Name</span></a>&ensp;<a class="type" href="Compiler.ES.Ast.html#Compiler.ES.Ast.Var"><span class="name type">Var</span></a></code></dt><dd><pre>  Mapping&ensp;from&ensp;toplevel&ensp;function&ensp;names&ensp;to&ensp;variables</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">public&ensp;export</span></dd><dt id="Compiler.ES.State.ESSt.refs"><code><span class="type resolved" title="Compiler.ES.State.ESSt.refs"><span class="name function">refs</span></span>&ensp;:&ensp;<a class="type" href="Compiler.ES.State.html#Compiler.ES.State.ESSt"><span class="name type">ESSt</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="Libraries.Data.SortedMap.html#Libraries.Data.SortedMap.SortedMap"><span class="name type">SortedMap</span></a>&ensp;<a class="type" href="Core.Name.html#Core.Name.Name"><span class="name type">Name</span></a>&ensp;<a class="type" href="Compiler.ES.Ast.html#Compiler.ES.Ast.Var"><span class="name type">Var</span></a></code></dt><dd><pre>  Mapping&ensp;from&ensp;toplevel&ensp;function&ensp;names&ensp;to&ensp;variables</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">public&ensp;export</span></dd><dt id="Compiler.ES.State.ESSt.(.preamble)"><code><span class="type resolved" title="Compiler.ES.State.ESSt.(.preamble)"><span class="name function">.preamble</span></span>&ensp;:&ensp;<a class="type" href="Compiler.ES.State.html#Compiler.ES.State.ESSt"><span class="name type">ESSt</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="Libraries.Data.SortedMap.html#Libraries.Data.SortedMap.SortedMap"><span class="name type">SortedMap</span></a>&ensp;<span class="name type">String</span>&ensp;<span class="name type">String</span></code></dt><dd><pre>  Mappings&ensp;from&ensp;name&ensp;to&ensp;definitions&ensp;to&ensp;be&ensp;added<br>  to&ensp;the&ensp;preamble.</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">public&ensp;export</span></dd><dt id="Compiler.ES.State.ESSt.preamble"><code><span class="type resolved" title="Compiler.ES.State.ESSt.preamble"><span class="name function">preamble</span></span>&ensp;:&ensp;<a class="type" href="Compiler.ES.State.html#Compiler.ES.State.ESSt"><span class="name type">ESSt</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="Libraries.Data.SortedMap.html#Libraries.Data.SortedMap.SortedMap"><span class="name type">SortedMap</span></a>&ensp;<span class="name type">String</span>&ensp;<span class="name type">String</span></code></dt><dd><pre>  Mappings&ensp;from&ensp;name&ensp;to&ensp;definitions&ensp;to&ensp;be&ensp;added<br>  to&ensp;the&ensp;preamble.</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">public&ensp;export</span></dd><dt id="Compiler.ES.State.ESSt.(.ccTypes)"><code><span class="type resolved" title="Compiler.ES.State.ESSt.(.ccTypes)"><span class="name function">.ccTypes</span></span>&ensp;:&ensp;<a class="type" href="Compiler.ES.State.html#Compiler.ES.State.ESSt"><span class="name type">ESSt</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="Prelude.Basics.List"><span class="name type">List</span></span>&ensp;<span class="name type">String</span></code></dt><dd><pre>  Accepted&ensp;codegen&ensp;types&ensp;in&ensp;foreign&ensp;function&ensp;definitions.<br>  For&ensp;JS,&ensp;this&ensp;is&ensp;either&ensp;`[&quot;node&quot;,&quot;javascript&quot;]`&ensp;or<br>  `[&quot;browser&quot;,&quot;javascript&quot;]`.</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">public&ensp;export</span></dd><dt id="Compiler.ES.State.ESSt.ccTypes"><code><span class="type resolved" title="Compiler.ES.State.ESSt.ccTypes"><span class="name function">ccTypes</span></span>&ensp;:&ensp;<a class="type" href="Compiler.ES.State.html#Compiler.ES.State.ESSt"><span class="name type">ESSt</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="Prelude.Basics.List"><span class="name type">List</span></span>&ensp;<span class="name type">String</span></code></dt><dd><pre>  Accepted&ensp;codegen&ensp;types&ensp;in&ensp;foreign&ensp;function&ensp;definitions.<br>  For&ensp;JS,&ensp;this&ensp;is&ensp;either&ensp;`[&quot;node&quot;,&quot;javascript&quot;]`&ensp;or<br>  `[&quot;browser&quot;,&quot;javascript&quot;]`.</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">public&ensp;export</span></dd><dt id="Compiler.ES.State.ESSt.(.noMangleMap)"><code><span class="type resolved" title="Compiler.ES.State.ESSt.(.noMangleMap)"><span class="name function">.noMangleMap</span></span>&ensp;:&ensp;<a class="type" href="Compiler.ES.State.html#Compiler.ES.State.ESSt"><span class="name type">ESSt</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="Compiler.NoMangle.html#Compiler.NoMangle.NoMangleMap"><span class="name type">NoMangleMap</span></a></code></dt><dd><pre>  %nomangle&ensp;names</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">public&ensp;export</span></dd><dt id="Compiler.ES.State.ESSt.noMangleMap"><code><span class="type resolved" title="Compiler.ES.State.ESSt.noMangleMap"><span class="name function">noMangleMap</span></span>&ensp;:&ensp;<a class="type" href="Compiler.ES.State.html#Compiler.ES.State.ESSt"><span class="name type">ESSt</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="Compiler.NoMangle.html#Compiler.NoMangle.NoMangleMap"><span class="name type">NoMangleMap</span></a></code></dt><dd><pre>  %nomangle&ensp;names</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">public&ensp;export</span></dd><dt id="Compiler.ES.State.addLocal"><code><a class="type" href="Compiler.ES.State.html#Compiler.ES.State.addLocal"><span class="name function">addLocal</span></a>&ensp;:&ensp;<a class="type" href="Core.Context.Context.html#Core.Context.Context.Ref"><span class="name type">Ref</span></a>&ensp;<a class="type" href="Compiler.ES.State.html#Compiler.ES.State.ESs"><span class="name type">ESs</span></a>&ensp;<a class="type" href="Compiler.ES.State.html#Compiler.ES.State.ESSt"><span class="name type">ESSt</span></a>&ensp;<span class="keyword">=&gt;</span>&ensp;<a class="type" href="Core.Name.html#Core.Name.Name"><span class="name type">Name</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="Compiler.ES.Ast.html#Compiler.ES.Ast.Minimal"><span class="name type">Minimal</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="Core.Core.html#Core.Core.Core"><span class="name type">Core</span></a>&ensp;()</code></dt><dd><pre>  Map&ensp;a&ensp;local&ensp;name&ensp;to&ensp;the&ensp;given&ensp;minimal&ensp;expression</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">export</span></dd><dt id="Compiler.ES.State.nextLocal"><code><a class="type" href="Compiler.ES.State.html#Compiler.ES.State.nextLocal"><span class="name function">nextLocal</span></a>&ensp;:&ensp;<a class="type" href="Core.Context.Context.html#Core.Context.Context.Ref"><span class="name type">Ref</span></a>&ensp;<a class="type" href="Compiler.ES.State.html#Compiler.ES.State.ESs"><span class="name type">ESs</span></a>&ensp;<a class="type" href="Compiler.ES.State.html#Compiler.ES.State.ESSt"><span class="name type">ESSt</span></a>&ensp;<span class="keyword">=&gt;</span>&ensp;<a class="type" href="Core.Core.html#Core.Core.Core"><span class="name type">Core</span></a>&ensp;<a class="type" href="Compiler.ES.Ast.html#Compiler.ES.Ast.Var"><span class="name type">Var</span></a></code></dt><dd><pre>  Get&ensp;and&ensp;bump&ensp;the&ensp;local&ensp;var&ensp;index</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">export</span></dd><dt id="Compiler.ES.State.registerLocal"><code><a class="type" href="Compiler.ES.State.html#Compiler.ES.State.registerLocal"><span class="name function">registerLocal</span></a>&ensp;:&ensp;<a class="type" href="Core.Context.Context.html#Core.Context.Context.Ref"><span class="name type">Ref</span></a>&ensp;<a class="type" href="Compiler.ES.State.html#Compiler.ES.State.ESs"><span class="name type">ESs</span></a>&ensp;<a class="type" href="Compiler.ES.State.html#Compiler.ES.State.ESSt"><span class="name type">ESSt</span></a>&ensp;<span class="keyword">=&gt;</span>&ensp;<a class="type" href="Core.Name.html#Core.Name.Name"><span class="name type">Name</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="Core.Core.html#Core.Core.Core"><span class="name type">Core</span></a>&ensp;<a class="type" href="Compiler.ES.Ast.html#Compiler.ES.Ast.Var"><span class="name type">Var</span></a></code></dt><dd><pre>  Register&ensp;a&ensp;`Name`&ensp;as&ensp;a&ensp;local&ensp;variable.&ensp;The&ensp;name&ensp;is&ensp;kept<br>  unchanged&ensp;if&ensp;`keepLocalName`&ensp;returns&ensp;`True`&ensp;with&ensp;the<br>  current&ensp;name&ensp;and&ensp;state,&ensp;otherwise&ensp;it&ensp;is&ensp;converted&ensp;to<br>  a&ensp;new&ensp;local&ensp;variable.</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">export</span></dd><dt id="Compiler.ES.State.getOrRegisterLocal"><code><a class="type" href="Compiler.ES.State.html#Compiler.ES.State.getOrRegisterLocal"><span class="name function">getOrRegisterLocal</span></a>&ensp;:&ensp;<a class="type" href="Core.Context.Context.html#Core.Context.Context.Ref"><span class="name type">Ref</span></a>&ensp;<a class="type" href="Compiler.ES.State.html#Compiler.ES.State.ESs"><span class="name type">ESs</span></a>&ensp;<a class="type" href="Compiler.ES.State.html#Compiler.ES.State.ESSt"><span class="name type">ESSt</span></a>&ensp;<span class="keyword">=&gt;</span>&ensp;<a class="type" href="Core.Name.html#Core.Name.Name"><span class="name type">Name</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="Core.Core.html#Core.Core.Core"><span class="name type">Core</span></a>&ensp;<a class="type" href="Compiler.ES.Ast.html#Compiler.ES.Ast.Minimal"><span class="name type">Minimal</span></a></code></dt><dd><pre>  Look&ensp;up&ensp;a&ensp;name&ensp;and&ensp;call&ensp;`registerLocal`&ensp;in&ensp;case&ensp;it&ensp;has<br>  not&ensp;been&ensp;added&ensp;to&ensp;the&ensp;map&ensp;of&ensp;local&ensp;names.</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">export</span></dd><dt id="Compiler.ES.State.projections"><code><a class="type" href="Compiler.ES.State.html#Compiler.ES.State.projections"><span class="name function">projections</span></a>&ensp;:&ensp;<a class="type" href="Core.Context.Context.html#Core.Context.Context.Ref"><span class="name type">Ref</span></a>&ensp;<a class="type" href="Compiler.ES.State.html#Compiler.ES.State.ESs"><span class="name type">ESs</span></a>&ensp;<a class="type" href="Compiler.ES.State.html#Compiler.ES.State.ESSt"><span class="name type">ESSt</span></a>&ensp;<span class="keyword">=&gt;</span>&ensp;<a class="type" href="Compiler.ES.Ast.html#Compiler.ES.Ast.Minimal"><span class="name type">Minimal</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="Prelude.Basics.List"><span class="name type">List</span></span>&ensp;<a class="type" href="Core.Name.html#Core.Name.Name"><span class="name type">Name</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="Core.Core.html#Core.Core.Core"><span class="name type">Core</span></a>&ensp;()</code></dt><dd><pre>  Maps&ensp;the&ensp;given&ensp;list&ensp;of&ensp;names&ensp;(from&ensp;a&ensp;pattern&ensp;match<br>  on&ensp;a&ensp;data&ensp;constructor)&ensp;to&ensp;the&ensp;corresponding<br>  projections&ensp;on&ensp;the&ensp;given&ensp;scrutinee.</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">export</span></dd><dt id="Compiler.ES.State.addRef"><code><a class="type" href="Compiler.ES.State.html#Compiler.ES.State.addRef"><span class="name function">addRef</span></a>&ensp;:&ensp;<a class="type" href="Core.Context.Context.html#Core.Context.Context.Ref"><span class="name type">Ref</span></a>&ensp;<a class="type" href="Compiler.ES.State.html#Compiler.ES.State.ESs"><span class="name type">ESs</span></a>&ensp;<a class="type" href="Compiler.ES.State.html#Compiler.ES.State.ESSt"><span class="name type">ESSt</span></a>&ensp;<span class="keyword">=&gt;</span>&ensp;<a class="type" href="Core.Name.html#Core.Name.Name"><span class="name type">Name</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="Compiler.ES.Ast.html#Compiler.ES.Ast.Var"><span class="name type">Var</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="Core.Core.html#Core.Core.Core"><span class="name type">Core</span></a>&ensp;()</code></dt><dd><pre>  Map&ensp;a&ensp;toplevel&ensp;function&ensp;name&ensp;to&ensp;the&ensp;given&ensp;`Var`</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">export</span></dd><dt id="Compiler.ES.State.nextRef"><code><a class="type" href="Compiler.ES.State.html#Compiler.ES.State.nextRef"><span class="name function">nextRef</span></a>&ensp;:&ensp;<a class="type" href="Core.Context.Context.html#Core.Context.Context.Ref"><span class="name type">Ref</span></a>&ensp;<a class="type" href="Compiler.ES.State.html#Compiler.ES.State.ESs"><span class="name type">ESs</span></a>&ensp;<a class="type" href="Compiler.ES.State.html#Compiler.ES.State.ESSt"><span class="name type">ESSt</span></a>&ensp;<span class="keyword">=&gt;</span>&ensp;<a class="type" href="Core.Core.html#Core.Core.Core"><span class="name type">Core</span></a>&ensp;<a class="type" href="Compiler.ES.Ast.html#Compiler.ES.Ast.Var"><span class="name type">Var</span></a></code></dt><dd><pre>  Get&ensp;and&ensp;bump&ensp;the&ensp;local&ensp;ref&ensp;index</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">export</span></dd><dt id="Compiler.ES.State.getOrRegisterRef"><code><a class="type" href="Compiler.ES.State.html#Compiler.ES.State.getOrRegisterRef"><span class="name function">getOrRegisterRef</span></a>&ensp;:&ensp;<a class="type" href="Core.Context.Context.html#Core.Context.Context.Ref"><span class="name type">Ref</span></a>&ensp;<a class="type" href="Compiler.ES.State.html#Compiler.ES.State.ESs"><span class="name type">ESs</span></a>&ensp;<a class="type" href="Compiler.ES.State.html#Compiler.ES.State.ESSt"><span class="name type">ESSt</span></a>&ensp;<span class="keyword">=&gt;</span>&ensp;<a class="type" href="Core.Name.html#Core.Name.Name"><span class="name type">Name</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="Core.Core.html#Core.Core.Core"><span class="name type">Core</span></a>&ensp;<a class="type" href="Compiler.ES.Ast.html#Compiler.ES.Ast.Var"><span class="name type">Var</span></a></code></dt><dd><pre>  Look&ensp;up&ensp;a&ensp;name&ensp;and&ensp;call&ensp;`registerRef`&ensp;in&ensp;case&ensp;it&ensp;has<br>  not&ensp;been&ensp;added&ensp;to&ensp;the&ensp;map&ensp;of&ensp;toplevel&ensp;function&ensp;names.<br>  The&ensp;name&ensp;will&ensp;be&ensp;replace&ensp;with&ensp;an&ensp;index&ensp;if&ensp;the&ensp;current<br>  `GCMode`&ensp;is&ensp;set&ensp;to&ensp;`Minimal`.</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">export</span></dd><dt id="Compiler.ES.State.addToPreamble"><code><a class="type" href="Compiler.ES.State.html#Compiler.ES.State.addToPreamble"><span class="name function">addToPreamble</span></a>&ensp;:&ensp;<a class="type" href="Core.Context.Context.html#Core.Context.Context.Ref"><span class="name type">Ref</span></a>&ensp;<a class="type" href="Compiler.ES.State.html#Compiler.ES.State.ESs"><span class="name type">ESs</span></a>&ensp;<a class="type" href="Compiler.ES.State.html#Compiler.ES.State.ESSt"><span class="name type">ESSt</span></a>&ensp;<span class="keyword">=&gt;</span>&ensp;<span class="name type">String</span>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="name type">String</span>&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="Core.Core.html#Core.Core.Core"><span class="name type">Core</span></a>&ensp;()</code></dt><dd><pre>  Add&ensp;a&ensp;new&ensp;set&ensp;of&ensp;definitions&ensp;under&ensp;the&ensp;given&ensp;name&ensp;to<br>  the&ensp;preamble.&ensp;Fails&ensp;with&ensp;an&ensp;error&ensp;if&ensp;a&ensp;different&ensp;set<br>  of&ensp;definitions&ensp;have&ensp;already&ensp;been&ensp;added&ensp;under&ensp;the&ensp;same&ensp;name.</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">export</span></dd><dt id="Compiler.ES.State.init"><code><a class="type" href="Compiler.ES.State.html#Compiler.ES.State.init"><span class="name function">init</span></a>&ensp;:&ensp;<a class="type" href="Compiler.ES.State.html#Compiler.ES.State.CGMode"><span class="name type">CGMode</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;(<a class="type" href="Compiler.ES.Ast.html#Compiler.ES.Ast.Exp"><span class="name type">Exp</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="Prelude.Basics.Bool"><span class="name type">Bool</span></span>)&ensp;<span class="keyword">-&gt;</span>&ensp;(<a class="type" href="Compiler.ES.Ast.html#Compiler.ES.Ast.Exp"><span class="name type">Exp</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="Prelude.Basics.Bool"><span class="name type">Bool</span></span>)&ensp;<span class="keyword">-&gt;</span>&ensp;<span class="type resolved" title="Prelude.Basics.List"><span class="name type">List</span></span>&ensp;<span class="name type">String</span>&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="Compiler.NoMangle.html#Compiler.NoMangle.NoMangleMap"><span class="name type">NoMangleMap</span></a>&ensp;<span class="keyword">-&gt;</span>&ensp;<a class="type" href="Compiler.ES.State.html#Compiler.ES.State.ESSt"><span class="name type">ESSt</span></a></code></dt><dd><pre>  Initial&ensp;state&ensp;of&ensp;the&ensp;code&ensp;generator</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">export</span></dd><dt id="Compiler.ES.State.reset"><code><a class="type" href="Compiler.ES.State.html#Compiler.ES.State.reset"><span class="name function">reset</span></a>&ensp;:&ensp;<a class="type" href="Core.Context.Context.html#Core.Context.Context.Ref"><span class="name type">Ref</span></a>&ensp;<a class="type" href="Compiler.ES.State.html#Compiler.ES.State.ESs"><span class="name type">ESs</span></a>&ensp;<a class="type" href="Compiler.ES.State.html#Compiler.ES.State.ESSt"><span class="name type">ESSt</span></a>&ensp;<span class="keyword">=&gt;</span>&ensp;<a class="type" href="Core.Core.html#Core.Core.Core"><span class="name type">Core</span></a>&ensp;()</code></dt><dd><pre>  Reset&ensp;the&ensp;local&ensp;state&ensp;before&ensp;defining&ensp;a&ensp;new&ensp;toplevel<br>  function.</pre><br>  <b>Totality</b>:&ensp;<span class="keyword">total</span><br>  <b>Visibility</b>:&ensp;<span class="keyword">export</span></dd></dl></div><footer>Produced by Idris 2 version 0.5.1-4a465ac21</footer></body></html>
